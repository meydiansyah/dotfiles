"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const assert_1 = __importDefault(require("assert"));
const utils_1 = require("../formatting/prettier/utils");
suite('Directives Formatting', () => {
    test('it can format PHP in directives', () => {
        assert_1.default.strictEqual((0, utils_1.formatBladeString)(`@directive   ($test  + $that-$another   + $thing)`).trim(), `@directive($test + $that - $another + $thing)`);
    });
    test('it preserves content if PHP is invalid', () => {
        assert_1.default.strictEqual((0, utils_1.formatBladeString)(`@directive   ($test  ++++ $that-$another   + $thing)`).trim(), `@directive($test  ++++ $that-$another   + $thing)`);
    });
    test('it indents nicely', () => {
        assert_1.default.strictEqual((0, utils_1.formatBladeString)(`@section("messages")
    <div class="alert success">
        <p><strong>Success!</strong></p>
        @foreach ($success->all('<p>:message</p>') as $msg)
            {{ $msg }}
        @endforeach
    </div>
@show`).trim(), `@section("messages")
<div class="alert success">
    <p><strong>Success!</strong></p>
    @foreach($success->all('<p>:message</p>') as $msg)
        {{ $msg }}
    @endforeach
</div>
@show`);
        assert_1.default.strictEqual((0, utils_1.formatBladeString)(`
@section("messages")
<div class="alert success">
<p><strong>Success!</strong></p>
@foreach ($success->all('<p>:message</p>') as $msg)
{{ $msg }}
@endforeach
</div>
@show
`).trim(), `@section("messages")
<div class="alert success">
    <p><strong>Success!</strong></p>
    @foreach($success->all('<p>:message</p>') as $msg)
        {{ $msg }}
    @endforeach
</div>
@show`);
    });
    test('it indents if HTML is on separate lines', () => {
        assert_1.default.strictEqual((0, utils_1.formatBladeString)(`<div>
            @directive   ($test  + $that-$another   + $thing)
                </div>`).trim(), `<div>
    @directive($test + $that - $another + $thing)
</div>`);
    });
    test('it preserves same line if HTML is on same line', () => {
        assert_1.default.strictEqual((0, utils_1.formatBladeString)(`<div>@directive   ($test  + $that-$another   + $thing)</div>`).trim(), `<div>@directive($test + $that - $another + $thing)</div>`);
    });
    test('it can indent paired directives without any HTML hints', () => {
        assert_1.default.strictEqual((0, utils_1.formatBladeString)(`
<div>
    @pair
dasdfsdf
asdf
@endpair
            </div>`).trim(), `<div>
    @pair
        dasdfsdf asdf
    @endpair
</div>`);
    });
    test('it can indent paired directives with HTML', () => {
        assert_1.default.strictEqual((0, utils_1.formatBladeString)(`
<div>
    @pair

<div>
    @pair
    <p>Test one.</p>
    
    
<div>
    @pair

<div>
    @pair
    <p>Test two.</p>


<div>
    @pair

<div>
    @pair
    <p>Test three.</p>
    @endpair
</div>

@endpair
            </div>

    @endpair
</div>

@endpair
            </div>

    @endpair
</div>

@endpair
            </div>`).trim(), `<div>
    @pair
        <div>
            @pair
                <p>Test one.</p>

                <div>
                    @pair
                        <div>
                            @pair
                                <p>Test two.</p>

                                <div>
                                    @pair
                                        <div>
                                            @pair
                                                <p>Test three.</p>
                                            @endpair
                                        </div>
                                    @endpair
                                </div>
                            @endpair
                        </div>
                    @endpair
                </div>
            @endpair
        </div>
    @endpair
</div>`);
    });
});
//# sourceMappingURL=formatter_directives.test.js.map